# ุฑุงูููุง ุชุณุช ูุงุฒ 4 - ุณุณุชู ูพุดุชุจุงู ูพุดุฑูุชู

ุงู ุฑุงูููุง ุจุฑุง ุชุณุช ฺฉุงูู ูุงุฒ 4 ุณุณุชู ูพุดุชุจุงู ุชูู ุดุฏู ุงุณุช ฺฉู ุดุงูู ููุงุฑุฏ ุฒุฑ ูโุดูุฏ:

## ๐ ููุฑุณุช ูุทุงูุจ

1. [ูพุงฺฏุงู ุฏุงูุด (Knowledge Base)](#1-ูพุงฺฏุงู-ุฏุงูุด-knowledge-base)
2. [ฺุช ุฒูุฏู (Live Chat)](#2-ฺุช-ุฒูุฏู-live-chat)
3. [ฺฉูพุงุฑฺูโุณุงุฒ ุงูู (Email Integration)](#3-ฺฉูพุงุฑฺูโุณุงุฒ-ุงูู-email-integration)
4. [API ุนููู (Public API)](#4-api-ุนููู-public-api)
5. [ฺฉูพุงุฑฺูโุณุงุฒ ูุฌูโูุฏุง](#5-ฺฉูพุงุฑฺูโุณุงุฒ-ูุฌูโูุฏุง)

---

## 1. ูพุงฺฏุงู ุฏุงูุด (Knowledge Base)

### 1.1 ุชุณุช ูุฏุฑุช ููุงูุงุช (Admin)

**ูุณุฑูุง:**
- `/admin/kb/articles` - ูุณุช ููุงูุงุช
- `/admin/kb/articles/create` - ุงุฌุงุฏ ููุงูู ุฌุฏุฏ
- `/admin/kb/articles/{id}/edit` - ูุฑุงุด ููุงูู

**ูุฑุงุญู ุชุณุช:**

1. **ูุฑูุฏ ุจู ูพูู ุงุฏูู:**
   ```
   URL: /admin/kb/articles
   ```

2. **ุงุฌุงุฏ ุฏุณุชูโุจูุฏ ุฌุฏุฏ:**
   - ุฑูุชู ุจู `/admin/kb/categories`
   - ฺฉูฺฉ ุฑู "ุฏุณุชูโุจูุฏ ุฌุฏุฏ"
   - ูุงุฑุฏ ฺฉุฑุฏู:
     - ูุงู: "ุฑุงูููุง ุดุฑูุน"
     - ุชูุถุญุงุช: "ููุงูุงุช ูุฑุจูุท ุจู ุดุฑูุน ฺฉุงุฑ"
   - ุฐุฎุฑู

3. **ุงุฌุงุฏ ููุงูู ุฌุฏุฏ:**
   - ุฑูุชู ุจู `/admin/kb/articles/create`
   - ูพุฑ ฺฉุฑุฏู ูุฑู:
     - ุนููุงู: "ฺฺฏููู ุชฺฉุช ูพุดุชุจุงู ุงุฌุงุฏ ฺฉููุ"
     - ุฏุณุชูโุจูุฏ: ุงูุชุฎุงุจ ุฏุณุชูโุง ฺฉู ุงุฌุงุฏ ฺฉุฑุฏุฏ
     - ูุญุชูุง: ูุชู ฺฉุงูู ููุงูู
     - ูุถุนุช: ููุชุดุฑ ุดุฏู
     - ุจุฑฺุณุจโูุง: ["ุชฺฉุช", "ูพุดุชุจุงู"]
   - ุฐุฎุฑู

4. **ุชุณุช ูุฑุงุด:**
   - ฺฉูฺฉ ุฑู ููุงูู ุงุฌุงุฏ ุดุฏู
   - ูุฑุงุด ูุญุชูุง
   - ุฐุฎุฑู ุชุบุฑุงุช

5. **ุชุณุช ุฌุณุชุฌู ู ููุชุฑ:**
   - ุฌุณุชุฌู ุจุฑ ุงุณุงุณ ุนููุงู
   - ููุชุฑ ุจุฑ ุงุณุงุณ ุฏุณุชูโุจูุฏ
   - ููุชุฑ ุจุฑ ุงุณุงุณ ูุถุนุช

### 1.2 ุชุณุช ููุงุด ุนููู (User)

**ูุณุฑูุง:**
- `/support/knowledge-base` - ูุณุช ููุงูุงุช
- `/support/knowledge-base/{slug}` - ููุงุด ููุงูู

**ูุฑุงุญู ุชุณุช:**

1. **ูุดุงูุฏู ูุณุช ููุงูุงุช:**
   ```
   URL: /support/knowledge-base
   ```
   - ุจุฑุฑุณ ููุงุด ุฏุณุชูโุจูุฏโูุง
   - ุจุฑุฑุณ ุฌุณุชุฌู ุฏุฑ ููุงูุงุช
   - ุจุฑุฑุณ ููุชุฑ ุจุฑ ุงุณุงุณ ุฏุณุชู

2. **ูุดุงูุฏู ููุงูู:**
   - ฺฉูฺฉ ุฑู ฺฉ ุงุฒ ููุงูุงุช
   - ุจุฑุฑุณ ููุงุด ฺฉุงูู ูุญุชูุง
   - ุจุฑุฑุณ ููุงุด ููุงูุงุช ูุฑุชุจุท
   - ุจุฑุฑุณ ููุงุด ุจุฑฺุณุจโูุง

3. **ุชุณุช ูพุดููุงุฏุงุช ุฏุฑ ูุฑู ุชฺฉุช:**
   - ุฑูุชู ุจู `/tickets/create`
   - ููุดุชู ููุถูุน: "ูุญูู ุงุฌุงุฏ ุชฺฉุช"
   - ุจุฑุฑุณ ููุงุด ููุงูุงุช ูพุดููุงุฏ ุฏุฑ ูพุงู ุตูุญู

---

## 2. ฺุช ุฒูุฏู (Live Chat)

### 2.1 ุชุณุช ุงุฒ ุทุฑู ฺฉุงุฑุจุฑ (User)

**ูุณุฑูุง:**
- `/support-chat` - ุตูุญู ฺุช
- `/support-chat/{id}/messages` - ุฏุฑุงูุช ูพุงูโูุง

**ูุฑุงุญู ุชุณุช:**

1. **ุดุฑูุน ฺุช:**
   ```
   URL: /support-chat
   ```
   - ุจุฑุฑุณ ููุงุด ูุถุนุช ฺุช (ุฏุฑ ุงูุชุธุงุฑ/ูุนุงู/ุจุณุชู)
   - ฺฉูฺฉ ุฑู "ุดุฑูุน ฺุช ุฌุฏุฏ"
   - ูุงุฑุฏ ฺฉุฑุฏู ูพุงู ุงูู
   - ุงุฑุณุงู

2. **ุงุฑุณุงู ูพุงู:**
   - ููุดุชู ฺูุฏ ูพุงู
   - ุจุฑุฑุณ ููุงุด ุฒูุงู ูุฑ ูพุงู
   - ุจุฑุฑุณ ููุงุด ุฎูุงูุฏู/ูุฎูุงูุฏู ุจูุฏู ูพุงูโูุง

3. **ุชุจุฏู ฺุช ุจู ุชฺฉุช:**
   - ฺฉูฺฉ ุฑู "ุชุจุฏู ุจู ุชฺฉุช"
   - ุจุฑุฑุณ ุงุฌุงุฏ ุชฺฉุช ุฌุฏุฏ
   - ุจุฑุฑุณ ููฺฉ ุจู ุชฺฉุช ุงุฌุงุฏ ุดุฏู

4. **ุจุณุชู ฺุช:**
   - ฺฉูฺฉ ุฑู "ุจุณุชู ฺุช"
   - ุจุฑุฑุณ ุชุบุฑ ูุถุนุช ุจู "ุจุณุชู ุดุฏู"

### 2.2 ุชุณุช ุงุฒ ุทุฑู ูพุดุชุจุงู (Admin)

**ูุณุฑูุง:**
- `/admin/support-chat` - ูุณุช ฺุชโูุง
- `/admin/support-chat/{id}` - ููุงุด ฺุช

**ูุฑุงุญู ุชุณุช:**

1. **ูุดุงูุฏู ูุณุช ฺุชโูุง:**
   ```
   URL: /admin/support-chat
   ```
   - ุจุฑุฑุณ ููุงุด ฺุชโูุง ุฏุฑ ุงูุชุธุงุฑ
   - ุจุฑุฑุณ ููุชุฑ ุจุฑ ุงุณุงุณ ูุถุนุช
   - ุจุฑุฑุณ ููุงุด ุงูููุช

2. **ุงุฎุชุตุงุต ุจู ูพุดุชุจุงู:**
   - ฺฉูฺฉ ุฑู ฺฉ ฺุช ุฏุฑ ุงูุชุธุงุฑ
   - ฺฉูฺฉ ุฑู "ุงุฎุชุตุงุต ุจู ูู"
   - ุจุฑุฑุณ ุชุบุฑ ูุถุนุช ุจู "ูุนุงู"

3. **ูพุงุณุฎ ุฏุงุฏู:**
   - ููุดุชู ูพุงุณุฎ
   - ุงุฑุณุงู
   - ุจุฑุฑุณ ููุงุด ูพุงุณุฎ ุฏุฑ ฺุช

4. **ุชุจุฏู ุจู ุชฺฉุช:**
   - ฺฉูฺฉ ุฑู "ุชุจุฏู ุจู ุชฺฉุช"
   - ุจุฑุฑุณ ุงุฌุงุฏ ุชฺฉุช
   - ุจุฑุฑุณ ุงูุชูุงู ุชุงุฑุฎฺู ฺุช ุจู ุชฺฉุช

---

## 3. ฺฉูพุงุฑฺูโุณุงุฒ ุงูู (Email Integration)

### 3.1 ุชุณุช ุชุจุฏู ุงูู ุจู ุชฺฉุช

**Webhook:**
- `POST /api/email/webhook`

**ูุฑุงุญู ุชุณุช:**

1. **ุชูุธู Mailgun (ุง ุณุฑูุณ ุงูู ุดูุง):**
   - ุชูุธู Webhook URL: `https://your-domain.com/api/email/webhook`
   - ุชูุธู Events: `message_received`

2. **ุงุฑุณุงู ุงูู ุชุณุช:**
   - ุงุฑุณุงู ุงูู ุงุฒ ฺฉ ุขุฏุฑุณ ุงูู ุจู ุขุฏุฑุณ ูพุดุชุจุงู
   - Subject: "ุฏุฑุฎูุงุณุช ูพุดุชุจุงู - ุชุณุช ุงูู"
   - Body: "ุงู ฺฉ ุงูู ุชุณุช ุงุณุช"

3. **ุจุฑุฑุณ ุงุฌุงุฏ ุชฺฉุช:**
   - ุฑูุชู ุจู `/admin/tickets`
   - ุจุฑุฑุณ ุงุฌุงุฏ ุชฺฉุช ุฌุฏุฏ ุจุง ููุถูุน ุงูู
   - ุจุฑุฑุณ ููุงุด ุงูู ูุฑุณุชูุฏู
   - ุจุฑุฑุณ ูุญุชูุง ุงูู ุฏุฑ ูพุงู ุชฺฉุช

4. **ุชุณุช ูพุงุณุฎ ุจู ุงูู:**
   - ุจุงุฒ ฺฉุฑุฏู ุชฺฉุช ุงุฌุงุฏ ุดุฏู ุงุฒ ุงูู
   - ูพุงุณุฎ ุฏุงุฏู ุจู ุชฺฉุช ุงุฒ ูพูู ุงุฏูู
   - ุจุฑุฑุณ ุงุฑุณุงู ุงูู ุจู ูุฑุณุชูุฏู

### 3.2 ุชุณุช ุงุฑุณุงู ุงูู ูพุงุณุฎ

**ูุฑุงุญู ุชุณุช:**

1. **ุงุฌุงุฏ ุชฺฉุช ุงุฒ ูพูู:**
   - ุฑูุชู ุจู `/tickets/create`
   - ุงุฌุงุฏ ุชฺฉุช ุจุง ุงูู ูุนุชุจุฑ

2. **ูพุงุณุฎ ุงุฒ ูพุดุชุจุงู:**
   - ุฑูุชู ุจู `/admin/tickets/{id}`
   - ููุดุชู ูพุงุณุฎ
   - ุงุฑุณุงู

3. **ุจุฑุฑุณ ุงูู:**
   - ุจุฑุฑุณ ุตูุฏูู ุงูู ฺฉุงุฑุจุฑ
   - ุจุฑุฑุณ ุฏุฑุงูุช ุงูู ูพุงุณุฎ
   - ุจุฑุฑุณ ูุฑูุช ู ูุญุชูุง ุงูู

### 3.3 ุชุณุช ูุงูุจโูุง ุงูู

**ูุงูุจโูุง:**
- `resources/views/emails/ticket-created.blade.php`
- `resources/views/emails/ticket-reply.blade.php`

**ุจุฑุฑุณ:**
- โ ูุฑูุช HTML ุตุญุญ
- โ ูุญุชูุง ูุงุฑุณ ุฏุฑุณุช
- โ ููฺฉโูุง ูุฑุจูุทู ฺฉุงุฑ ูโฺฉููุฏ
- โ ุงุณุชุงูโูุง ุฏุฑุณุช ููุงุด ุฏุงุฏู ูโุดููุฏ

---

## 4. API ุนููู (Public API)

### 4.1 ุงุญุฑุงุฒ ููุช

**ุฑูุด:**
```bash
# ุฏุฑุงูุช Token
POST /api/login
{
    "email": "user@example.com",
    "password": "password"
}

# ูพุงุณุฎ:
{
    "token": "1|xxxxxxxxxxxxx"
}
```

**ุงุณุชูุงุฏู ุงุฒ Token:**
```bash
Authorization: Bearer {token}
```

### 4.2 ุชุณุช Endpoints

#### 4.2.1 ูุณุช ุชฺฉุชโูุง

```bash
GET /api/tickets
Authorization: Bearer {token}

# Query Parameters:
?status=open
?priority=high
?category=technical
?q=ุฌุณุชุฌู
?per_page=15
```

**ูพุงุณุฎ ููุฑุฏ ุงูุชุธุงุฑ:**
```json
{
    "success": true,
    "data": [
        {
            "id": 1,
            "tracking_code": "TK-ABC12345",
            "subject": "ููุถูุน ุชฺฉุช",
            "status": "open",
            "priority": "normal",
            ...
        }
    ],
    "meta": {
        "current_page": 1,
        "last_page": 1,
        "per_page": 15,
        "total": 1
    }
}
```

#### 4.2.2 ุงุฌุงุฏ ุชฺฉุช

```bash
POST /api/tickets
Authorization: Bearer {token}
Content-Type: multipart/form-data

{
    "subject": "ููุถูุน ุชฺฉุช",
    "message": "ูพุงู ุชฺฉุช",
    "priority": "normal",
    "category": "technical",
    "tags": [1, 2],
    "attachments": [file1, file2]
}
```

**ูพุงุณุฎ ููุฑุฏ ุงูุชุธุงุฑ:**
```json
{
    "success": true,
    "message": "ุชฺฉุช ุจุง ููููุช ุงุฌุงุฏ ุดุฏ",
    "data": {
        "id": 1,
        "tracking_code": "TK-ABC12345",
        ...
    }
}
```

#### 4.2.3 ูุดุงูุฏู ุชฺฉุช

```bash
GET /api/tickets/{id}
Authorization: Bearer {token}
```

#### 4.2.4 ุงูุฒูุฏู ฺฉุงููุช

```bash
POST /api/tickets/{id}/comments
Authorization: Bearer {token}

{
    "message": "ูพุงุณุฎ ฺฉุงุฑุจุฑ",
    "attachments": [file1]
}
```

#### 4.2.5 ุจุณุชู ุชฺฉุช

```bash
PUT /api/tickets/{id}/close
Authorization: Bearer {token}
```

#### 4.2.6 ุขูุงุฑ ุชฺฉุชโูุง

```bash
GET /api/tickets/stats
Authorization: Bearer {token}
```

**ูพุงุณุฎ:**
```json
{
    "success": true,
    "data": {
        "total": 10,
        "open": 3,
        "in_progress": 2,
        "closed": 5
    }
}
```

#### 4.2.7 ุฏุงูููุฏ ูุงู ุถููู

```bash
GET /api/tickets/{id}/attachments/{attachment_id}/download
Authorization: Bearer {token}
```

### 4.3 ุชุณุช ุจุง Postman ุง cURL

**ูุซุงู ฺฉุงูู ุจุง cURL:**

```bash
# ุฏุฑุงูุช Token
TOKEN=$(curl -X POST http://localhost:8000/api/login \
  -H "Content-Type: application/json" \
  -d '{"email":"user@example.com","password":"password"}' \
  | jq -r '.token')

# ุงุฌุงุฏ ุชฺฉุช
curl -X POST http://localhost:8000/api/tickets \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "subject": "ุชฺฉุช ุชุณุช",
    "message": "ุงู ฺฉ ุชฺฉุช ุชุณุช ุงุณุช",
    "priority": "normal"
  }'

# ุฏุฑุงูุช ูุณุช ุชฺฉุชโูุง
curl -X GET http://localhost:8000/api/tickets \
  -H "Authorization: Bearer $TOKEN"
```

---

## 5. ฺฉูพุงุฑฺูโุณุงุฒ ูุฌูโูุฏุง

### 5.1 ุชุณุช ุงุฑุฌุงุน ุจู ุชฺฉุช

**ูุฑุงุญู ุชุณุช:**

1. **ุดุฑูุน ฺุช ุจุง ูุฌูโูุฏุง:**
   ```
   POST /api/najm-hoda/chat
   {
       "message": "ูู ููโุชูุงูู ูุงุฑุฏ ุญุณุงุจ ฺฉุงุฑุจุฑ ุดูู"
   }
   ```

2. **ุงุฑุฌุงุน ุจู ูพุดุชุจุงู:**
   - ููุช ูุฌูโูุฏุง ููโุชูุงูุฏ ูพุงุณุฎ ุฏูุฏ
   - ฺฉูฺฉ ุฑู "ุงุฑุชุจุงุท ุจุง ูพุดุชุจุงู"
   - ุจุฑุฑุณ ุงุฌุงุฏ ุชฺฉุช ุฎูุฏฺฉุงุฑ

3. **ุจุฑุฑุณ ุชฺฉุช ุงุฌุงุฏ ุดุฏู:**
   - ุฑูุชู ุจู `/admin/tickets`
   - ุจุฑุฑุณ ุชฺฉุช ุจุง ูุดุงู ูุฌูโูุฏุง
   - ุจุฑุฑุณ ููฺฉ ุจู ูฺฉุงููู ูุฌูโูุฏุง
   - ุจุฑุฑุณ ุงูุชูุงู ุชุงุฑุฎฺู ฺุช ุจู ุชฺฉุช

### 5.2 ุชุณุช ููุงุด ุฏุฑ ูพูู ุงุฏูู

**ุจุฑุฑุณ:**
- โ ููุงุด ุขฺฉูู ุฑุจุงุช ุฏุฑ ูุณุช ุชฺฉุชโูุง
- โ ููุงุด `najm_conversation_id` ุฏุฑ ุฌุฒุฆุงุช ุชฺฉุช
- โ ููฺฉ ุจู ูฺฉุงููู ูุฌูโูุฏุง ฺฉุงุฑ ูโฺฉูุฏ

---

## โ ฺฺฉโูุณุช ุชุณุช ฺฉุงูู

### ูพุงฺฏุงู ุฏุงูุด
- [ ] ุงุฌุงุฏ ุฏุณุชูโุจูุฏ
- [ ] ุงุฌุงุฏ ููุงูู
- [ ] ูุฑุงุด ููุงูู
- [ ] ุฌุณุชุฌู ู ููุชุฑ
- [ ] ููุงุด ุนููู ููุงูุงุช
- [ ] ูพุดููุงุฏุงุช ุฏุฑ ูุฑู ุชฺฉุช

### ฺุช ุฒูุฏู
- [ ] ุดุฑูุน ฺุช ุงุฒ ฺฉุงุฑุจุฑ
- [ ] ุงุฑุณุงู ูพุงู
- [ ] ูพุงุณุฎ ูพุดุชุจุงู
- [ ] ุชุจุฏู ฺุช ุจู ุชฺฉุช
- [ ] ุจุณุชู ฺุช
- [ ] ุงุฎุชุตุงุต ุฎูุฏฺฉุงุฑ

### ฺฉูพุงุฑฺูโุณุงุฒ ุงูู
- [ ] ุฏุฑุงูุช ุงูู ู ุชุจุฏู ุจู ุชฺฉุช
- [ ] ูพุงุณุฎ ุจู ุงูู ุงุฒ ุชฺฉุช
- [ ] ุฏุฑุงูุช ุงูู ูพุงุณุฎ
- [ ] ูุงูุจโูุง ุงูู ุฏุฑุณุช ููุงุด ุฏุงุฏู ูโุดููุฏ

### API ุนููู
- [ ] ุงุญุฑุงุฒ ููุช
- [ ] ุฏุฑุงูุช ูุณุช ุชฺฉุชโูุง
- [ ] ุงุฌุงุฏ ุชฺฉุช
- [ ] ูุดุงูุฏู ุชฺฉุช
- [ ] ุงูุฒูุฏู ฺฉุงููุช
- [ ] ุจุณุชู ุชฺฉุช
- [ ] ุขูุงุฑ ุชฺฉุชโูุง
- [ ] ุฏุงูููุฏ ูุงู ุถููู

### ฺฉูพุงุฑฺูโุณุงุฒ ูุฌูโูุฏุง
- [ ] ุงุฑุฌุงุน ุจู ุชฺฉุช
- [ ] ููุงุด ุฏุฑ ูพูู ุงุฏูู
- [ ] ุงูุชูุงู ุชุงุฑุฎฺู

---

## ๐ ฺฏุฒุงุฑุด ุฎุทุงูุง

ุงฺฏุฑ ุฏุฑ ุญู ุชุณุช ุฎุทุง ูุดุงูุฏู ฺฉุฑุฏุฏุ ูุทูุงู ููุงุฑุฏ ุฒุฑ ุฑุง ุซุจุช ฺฉูุฏ:

1. **ุชูุถุญ ูุดฺฉู:**
2. **ูุณุฑ (Route):**
3. **ูุฑุงุญู ุจุงุฒุชููุฏ:**
4. **ูพุงู ุฎุทุง:**
5. **Stack Trace (ุฏุฑ ุตูุฑุช ูุฌูุฏ):**
6. **ูุฑูุฑฺฏุฑ ู ูุณุฎู:**
7. **PHP ู Laravel ูุณุฎู:**

---

## ๐ ุงุฏุฏุงุดุชโูุง ุชุณุช

ุฏุฑ ุงู ูุณูุช ูโุชูุงูุฏ ุงุฏุฏุงุดุชโูุง ุฎูุฏ ุฑุง ุซุจุช ฺฉูุฏ:

---

**ุขุฎุฑู ุจุฑูุฒุฑุณุงู:** 2024-11-19
**ูุณุฎู:** 1.0.0




